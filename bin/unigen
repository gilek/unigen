#!/usr/bin/env php
<?php

require "vendor/autoload.php";

$configFactory = new UniGen\Config\ConfigFactory(
    UniGen\Config\Schema::createFromFile(__DIR__ . '/../src/Resources/schema/config.schema.json')
);

$generatorCommand = new UniGen\Command\TestGeneratorCommand(
    $configFactory,
    new UniGen\Generator\GeneratorFactory()
);

$application = new Symfony\Component\Console\Application();
$application->add($generatorCommand);
$application->setDefaultCommand($generatorCommand::NAME, true);
$application->setAutoExit(true);
$application->run();
